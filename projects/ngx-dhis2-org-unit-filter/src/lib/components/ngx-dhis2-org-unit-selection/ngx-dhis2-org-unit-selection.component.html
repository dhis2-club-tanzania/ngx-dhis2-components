<div class="ngx-dhis2-org-unit-selection-card"
  *ngIf="highestLevelOrgUnits$ | withOrgUnitLoading | async as highestLevelOrgUnitParams">
  <div class="ngx-dhis2-org-unit-filter__disabled-overlay" *ngIf="userOrgUnitSelected"></div>
  <!--org unit tree area-->
  <div class="ngx-dhis2-org-unit-selection__tree p-2" [style.height]="orgUnitFilterConfig?.contentHeight">
    <div style="color: red;" *ngIf="highestLevelOrgUnitParams.error">
      Problem loading organisation units {{highestLevelOrgUnitParams.error}}
    </div>

    <ngx-dhis2-org-unit-selection-loading *ngIf="highestLevelOrgUnitParams.loading">
    </ngx-dhis2-org-unit-selection-loading>

    <div *ngIf="!highestLevelOrgUnitParams.loading && highestLevelOrgUnitParams.value">
      <div class="ngx-dhis2-org-unit-selection_no_org_unit" *ngIf="highestLevelOrgUnitParams.value.length === 0">No
        organisation units</div>
      <div class="ngx-dhis2-org-unit-selection__tree_list">
        <div class="ngx-dhis2-org-unit-selection__tree_item" *ngFor="let orgUnit of highestLevelOrgUnitParams.value">
          <ngx-dhis2-org-unit-tree-item [orgUnit]="orgUnit" [selectedOrgUnits]="selectedOrgUnits"
            [orgUnitFilterConfig]="orgUnitFilterConfig" [expanded]="true" (activate)="onActivateOrgUnit($event)"
            (deactivate)="onDeactivateOrgUnit($event)">
          </ngx-dhis2-org-unit-tree-item>
        </div>
      </div>
    </div>


  </div>
  <!--end of org unit tree area-->
</div>
